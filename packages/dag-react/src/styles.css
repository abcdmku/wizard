:root,
[data-theme="light"] {
  --wiz-bg: #0b0d12;
  --wiz-surface: #11131a;
  --wiz-muted: #1a1f2b;
  --wiz-border: #263047;
  --wiz-text: #d7e0ff;
  --wiz-subtle: #9bb0d3;
  --wiz-accent: #7aa2ff;
  --wiz-accent-2: #b47cff;
  --wiz-success: #38d39f;
  --wiz-warn: #f8bf45;
  --wiz-danger: #ff6b6b;
  --wiz-edge: #98b0ff;
}

[data-theme="light"] {
  --wiz-bg: #f7f8fb;
  --wiz-surface: #ffffff;
  --wiz-muted: #eef1f8;
  --wiz-border: #dbe2f3;
  --wiz-text: #0d1220;
  --wiz-subtle: #425476;
  --wiz-accent: #3b6cff;
  --wiz-accent-2: #7d4dff;
  --wiz-success: #17a772;
  --wiz-warn: #c07a00;
  --wiz-danger: #d14646;
  --wiz-edge: #5e77ff;
}

.wiz-shell { color: var(--wiz-text); background: var(--wiz-bg); font-family: Inter, ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji", "Noto Color Emoji"; }
.wiz-panel { background: var(--wiz-surface); border: 1px solid var(--wiz-border); border-radius: 12px; }
.wiz-toolbar { background: var(--wiz-surface); border: 1px solid var(--wiz-border); border-radius: 10px; padding: 6px 8px; display: flex; gap: 8px; align-items: center; }
.wiz-btn { background: var(--wiz-muted); border: 1px solid var(--wiz-border); border-radius: 8px; padding: 6px 10px; color: var(--wiz-text); cursor: pointer; }
.wiz-btn:hover { border-color: var(--wiz-accent); }
.wiz-badge { font-size: 12px; padding: 2px 6px; border-radius: 999px; background: var(--wiz-muted); color: var(--wiz-subtle); border: 1px solid var(--wiz-border); }
.wiz-title { font-weight: 600; letter-spacing: 0.1px; }
.wiz-subtle { color: var(--wiz-subtle); }

.rf-node.wiz-node { background: transparent; border: none; box-shadow: none; }
.wiz-node-card { background: var(--wiz-surface); border: 1px solid var(--wiz-border); color: var(--wiz-text); border-radius: 12px; box-shadow: 0 10px 30px rgba(0,0,0,0.25); width: 200px; padding: 10px 12px; }
.wiz-node-card[data-selected="true"] { outline: 2px solid var(--wiz-accent); }
.wiz-node-head { display: flex; align-items: center; gap: 6px; color: var(--wiz-subtle); font-size: 12px; }
.wiz-node-id { font-family: ui-monospace, SFMono-Regular, Menlo, monospace; }
.wiz-chip { padding: 1px 6px; border-radius: 999px; border: 1px solid var(--wiz-border); background: var(--wiz-muted); }
.wiz-chip.muted { opacity: 0.7; }
.wiz-node-title { font-weight: 700; margin-top: 6px; margin-bottom: 6px; letter-spacing: 0.2px; }
.wiz-node-flags { display: flex; flex-wrap: wrap; gap: 6px; }
.wiz-flag { font-size: 11px; padding: 2px 6px; border-radius: 6px; border: 1px solid var(--wiz-border); background: var(--wiz-muted); color: var(--wiz-subtle); }
.wiz-flag.green { border-color: var(--wiz-success); color: var(--wiz-success); }
.wiz-flag.blue { border-color: var(--wiz-accent); color: var(--wiz-accent); }
.wiz-flag.purple { border-color: var(--wiz-accent-2); color: var(--wiz-accent-2); }
.wiz-flag.gold { border-color: var(--wiz-warn); color: var(--wiz-warn); background: rgba(248, 191, 69, 0.1); }

.wiz-edge-label { background: var(--wiz-surface); border: 1px solid var(--wiz-border); color: var(--wiz-subtle); padding: 2px 6px; border-radius: 6px; }
.wiz-minimap { filter: saturate(0.85); }

.wiz-inspector { position: absolute; right: 12px; top: 12px; bottom: 12px; width: 320px; background: var(--wiz-surface); border: 1px solid var(--wiz-border); border-radius: 12px; padding: 12px; display: flex; flex-direction: column; gap: 8px; }
.wiz-inspector-head { display: flex; align-items: center; justify-content: space-between; }
.wiz-inspector-title { font-weight: 800; }
.wiz-inspector-sub { color: var(--wiz-subtle); font-size: 12px; }
.wiz-inspector-desc { margin: 0; color: var(--wiz-subtle); }
.wiz-inspector-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; }
.wiz-inspector-label { font-size: 12px; color: var(--wiz-subtle); margin-bottom: 4px; }
.wiz-inspector-kv { display: flex; justify-content: space-between; padding: 4px 0; border-bottom: 1px dashed var(--wiz-border); }
.wiz-inspector-section { margin-top: 6px; }
.wiz-badges { display: flex; gap: 6px; flex-wrap: wrap; }

/* Handle (connection point) styling */
.react-flow__handle {
  background: var(--wiz-border);
  border: 1px solid var(--wiz-border);
  opacity: 0.1;
}
.react-flow__handle:hover {
  background: var(--wiz-edge);
  border-color: var(--wiz-edge);
  opacity: 1;
}

/* Larger hitbox for handles */
.react-flow__handle {
  width: 5px !important;
  height: 5px !important;
}

/* Any-transition edges - low opacity by default */
.wiz-any-edge {
  opacity: 0.05;
}

/* Highlighted any-transition edges */
.wiz-any-edge.highlighted {
  opacity: 0.6;
}
