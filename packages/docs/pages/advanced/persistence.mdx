# Persistence

Persist wizard state externally using `wizard.store.state` (or `wizard.helpers.snapshot()`).

```ts
const snapshot = wizard.store.state;
localStorage.setItem('wizard', JSON.stringify(snapshot));
```

## Restore strategy

The core wizard does not expose a `restore()` method.  
Restoration is application-managed:

1. Load persisted data/context.
2. Create a wizard with matching context defaults.
3. Rehydrate per-step data using `setStepData`.
4. Navigate to the desired step with `goTo`.

```ts
const persisted = JSON.parse(localStorage.getItem('wizard') ?? 'null');
if (persisted) {
  for (const [step, data] of Object.entries(persisted.data ?? {})) {
    wizard.setStepData(step as never, data as never);
  }
  if (persisted.step) {
    await wizard.goTo(persisted.step as never);
  }
}
```

`WizardPersistence` remains exported as a compatibility type if you want to model adapter interfaces.
