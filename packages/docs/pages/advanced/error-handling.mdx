# Error Handling

Use step validation and status markers.

## Validation errors

```ts
const steps = defineSteps({
  payment: step({
    data: { cardLast4: '' },
    next: [],
    validate: ({ data }) => {
      if (data.cardLast4.length !== 4) throw new Error('Card last4 is required');
    },
  }),
});
```

## Runtime status markers

```ts
wizard.markError('payment', new Error('Gateway timeout'));
wizard.markLoading('payment');
wizard.markIdle('payment');
wizard.markTerminated('payment', new Error('Hard failure'));
```

## Reading errors in React

```tsx
const error = useStepError(wizard, 'payment');
const payment = useWizardStep(wizard, 'payment');
```
