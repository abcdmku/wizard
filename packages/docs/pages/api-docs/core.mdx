# `@wizard/core` API

Source of truth: `packages/core/src/index.ts`

## Functions

### `createWizard(opts)`

```ts
createWizard<C, E, const TDefs extends Record<string, any>>(opts: {
  context: C;
  steps: TDefs;
  order?: readonly (keyof TDefs & string)[];
  onStatusChange?: (a: { step: keyof TDefs & string; prev?: StepStatus; next: StepStatus }) => void;
}): Wizard<C, StepIds<TDefs>, DataMapFromDefs<TDefs>, E>
```

### `createWizardFactory<C, E>()`

Factory returning:

- `defineSteps(defs)`
- `step(definition)`
- `createWizard(steps, options?)`

### `defineSteps(defs)`

Identity helper for preserving literal step keys and inference.

### `step(definition)`

Typed step helper that brands step data for inference.

### `stepWithValidation(validateFn, definition)`

Same as `step`, with explicit `validate`.

### `resolve(valueOrFn, args)`

Resolves `ValOrFn<T, A>`.

### `resolveMetaCore(meta, args)`

Resolves runtime meta values (`label`, `hidden`, etc).

## Key Types

- `Wizard`
- `WizardState`
- `WizardHelpers`
- `StepDefinition`
- `StepArgs`, `StepEnterArgs`, `StepExitArgs`, `ValidateArgs`
- `StepMetaCore`
- `StepStatus`
- `DataMapFromDefs`, `DataTypeOf`, `InferStepData`
- `CreateWizardOptions`
- `WizardStep`

## Notes

- `wizardWithContext` is removed from the core API.
- `dataStep`, `transitionStep`, and `conditionalStep` are removed.
- State subscription is via `wizard.store` (`@tanstack/store`).
