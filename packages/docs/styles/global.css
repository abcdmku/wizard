@tailwind base;
@tailwind components;
@tailwind utilities;

/* ========== SHIKI SYNTAX HIGHLIGHTING TOKENS ========== */

:root {
  --shiki-color-text: #334155;
  --shiki-color-background: transparent;
  --shiki-token-constant: #098658;
  --shiki-token-string: #a31515;
  --shiki-token-comment: #008000;
  --shiki-token-keyword: #0000ff;
  --shiki-token-parameter: #001080;
  --shiki-token-function: #795e26;
  --shiki-token-string-expression: #a31515;
  --shiki-token-punctuation: #000000;
  --shiki-token-link: #0000ff;
  --shiki-token-class-name: #267f99;
  --shiki-token-type: #267f99;
  --shiki-token-interface: #267f99;
}

html.dark {
  --shiki-color-text: #9CDCFE;
  --shiki-color-background: transparent;
  --shiki-token-constant: #4EC9B0;
  --shiki-token-string: #CE9178;
  --shiki-token-comment: #6A9955;
  --shiki-token-keyword: #569CD6;
  --shiki-token-parameter: #9CDCFE;
  --shiki-token-function: #DCDCAA;
  --shiki-token-string-expression: #CE9178;
  --shiki-token-punctuation: #D4D4D4;
  --shiki-token-link: #569CD6;
  --shiki-token-class-name: #4EC9B0;
  --shiki-token-type: #4EC9B0;
  --shiki-token-interface: #4EC9B0;
  --shiki-token-variable: #9CDCFE;
  --shiki-token-property: #9CDCFE;
  --shiki-token-operator: #D4D4D4;
  --shiki-token-number: #B5CEA8;
  --shiki-token-control: #C586C0;
  --shiki-token-constant-other: #4FC1FF;
  --shiki-token-regex: #D16969;
  --shiki-token-invalid: #F44747;
  --shiki-token-escape: #D7BA7D;
}

/* ========== CODE BLOCKS ========== */

@layer components {
  pre {
    @apply bg-transparent text-slate-700 font-mono text-sm leading-relaxed;
    border: none;
    margin: 0;
    padding: 0;
    overflow: visible;
  }

  .dark pre {
    @apply text-neutral-300;
  }

  pre > code {
    @apply block overflow-x-auto w-full bg-code-bg;
    padding: 8px 0 16px 0;
    margin: 8px 0;
  }

  .dark pre > code {
    @apply bg-code-bg-dark;
  }

  /* Inline code */
  :not(pre) > code {
    @apply bg-slate-100 text-slate-600 px-1.5 py-0.5 rounded text-[0.875em] border border-slate-200;
  }

  .dark :not(pre) > code {
    @apply bg-slate-800 text-slate-300 border-slate-600;
  }
}

/* ========== NEXTRA CODE BLOCK OVERRIDES ========== */

pre,
pre[class*="nx-"] {
  --tw-ring-color: transparent;
  --tw-ring-shadow: 0 0 transparent;
  box-shadow: none;
}

/* ========== SCROLLBAR ========== */

pre::-webkit-scrollbar {
  height: 8px;
  width: 8px;
}

pre::-webkit-scrollbar-track {
  background: transparent;
}

pre::-webkit-scrollbar-thumb {
  background: #cbd5e1;
  border-radius: 4px;
}

pre::-webkit-scrollbar-thumb:hover {
  background: #94a3b8;
}

.dark pre::-webkit-scrollbar-thumb {
  background: #475569;
}

.dark pre::-webkit-scrollbar-thumb:hover {
  background: #64748b;
}

/* ========== DOCS LINK POLISH ========== */

:root {
  --docs-link-color: #0f4fd8;
  --docs-link-hover-color: #0b3ca8;
  --docs-link-visited-color: #1762f0;
  --docs-link-underline: rgba(15, 79, 216, 0.5);
  --docs-link-hover-underline: rgba(11, 60, 168, 0.9);
  --docs-link-hover-bg: rgba(15, 79, 216, 0.1);
  --docs-link-focus-ring: rgba(15, 79, 216, 0.45);
}

.dark {
  --docs-link-color: #7dd3fc;
  --docs-link-hover-color: #bae6fd;
  --docs-link-visited-color: #a5f3fc;
  --docs-link-underline: rgba(125, 211, 252, 0.55);
  --docs-link-hover-underline: rgba(186, 230, 253, 0.95);
  --docs-link-hover-bg: rgba(56, 189, 248, 0.2);
  --docs-link-focus-ring: rgba(125, 211, 252, 0.55);
}

.nextra-content :where(p, li, td, blockquote, figcaption) a[href],
article :where(p, li, td, blockquote, figcaption) a[href] {
  color: var(--docs-link-color);
  border-radius: 0.3rem;
  text-decoration-line: underline;
  text-decoration-thickness: 0.1em;
  text-underline-offset: 0.18em;
  text-decoration-color: var(--docs-link-underline);
  text-decoration-skip-ink: auto;
  transition:
    color 0.16s ease,
    text-decoration-color 0.16s ease,
    text-underline-offset 0.16s ease,
    background-color 0.16s ease;
}

.nextra-content :where(p, li, td, blockquote, figcaption) a[href]:visited,
article :where(p, li, td, blockquote, figcaption) a[href]:visited {
  color: var(--docs-link-visited-color);
}

.nextra-content :where(p, li, td, blockquote, figcaption) a[href]:hover,
.nextra-content :where(p, li, td, blockquote, figcaption) a[href]:focus-visible,
article :where(p, li, td, blockquote, figcaption) a[href]:hover,
article :where(p, li, td, blockquote, figcaption) a[href]:focus-visible {
  color: var(--docs-link-hover-color);
  text-decoration-color: var(--docs-link-hover-underline);
  text-underline-offset: 0.22em;
  background-color: var(--docs-link-hover-bg);
}

.nextra-content :where(p, li, td, blockquote, figcaption) a[href]:focus-visible,
article :where(p, li, td, blockquote, figcaption) a[href]:focus-visible {
  outline: 2px solid var(--docs-link-focus-ring);
  outline-offset: 2px;
}

.nextra-content :where(p, li, td, blockquote, figcaption) a[href] > code,
article :where(p, li, td, blockquote, figcaption) a[href] > code {
  color: inherit;
}
