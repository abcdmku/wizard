@tailwind base;
@tailwind components;
@tailwind utilities;

/* ========== SHIKI SYNTAX HIGHLIGHTING TOKENS ========== */

:root {
  --shiki-color-text: #334155;
  --shiki-color-background: transparent;
  --shiki-token-constant: #098658;
  --shiki-token-string: #a31515;
  --shiki-token-comment: #008000;
  --shiki-token-keyword: #0000ff;
  --shiki-token-parameter: #001080;
  --shiki-token-function: #795e26;
  --shiki-token-string-expression: #a31515;
  --shiki-token-punctuation: #000000;
  --shiki-token-link: #0000ff;
  --shiki-token-class-name: #267f99;
  --shiki-token-type: #267f99;
  --shiki-token-interface: #267f99;
}

html.dark {
  --shiki-color-text: #9CDCFE;
  --shiki-color-background: transparent;
  --shiki-token-constant: #4EC9B0;
  --shiki-token-string: #CE9178;
  --shiki-token-comment: #6A9955;
  --shiki-token-keyword: #569CD6;
  --shiki-token-parameter: #9CDCFE;
  --shiki-token-function: #DCDCAA;
  --shiki-token-string-expression: #CE9178;
  --shiki-token-punctuation: #D4D4D4;
  --shiki-token-link: #569CD6;
  --shiki-token-class-name: #4EC9B0;
  --shiki-token-type: #4EC9B0;
  --shiki-token-interface: #4EC9B0;
  --shiki-token-variable: #9CDCFE;
  --shiki-token-property: #9CDCFE;
  --shiki-token-operator: #D4D4D4;
  --shiki-token-number: #B5CEA8;
  --shiki-token-control: #C586C0;
  --shiki-token-constant-other: #4FC1FF;
  --shiki-token-regex: #D16969;
  --shiki-token-invalid: #F44747;
  --shiki-token-escape: #D7BA7D;
}

/* ========== CODE BLOCKS ========== */

code[data-theme*=' '],
code[data-theme*=' '] span {
  color: var(--shiki-light);
}

html.dark code[data-theme*=' '],
html.dark code[data-theme*=' '] span {
  color: var(--shiki-dark);
}

@layer components {
  .docs-article [data-rehype-pretty-code-figure] {
    @apply my-6 overflow-hidden rounded-lg border border-code-border bg-code-bg;
  }

  .dark .docs-article [data-rehype-pretty-code-figure] {
    @apply border-code-border-dark bg-code-bg-dark;
  }

  .docs-article [data-rehype-pretty-code-title] {
    @apply border-b border-code-border bg-code-header px-4 py-2 text-xs font-medium text-slate-600;
  }

  .dark .docs-article [data-rehype-pretty-code-title] {
    @apply border-code-border-dark bg-code-header-dark text-slate-300;
  }

  .docs-article [data-rehype-pretty-code-figure] pre {
    @apply m-0 overflow-x-auto bg-transparent px-4 py-3 text-sm leading-relaxed;
    border: none;
  }

  .docs-article [data-rehype-pretty-code-figure] code {
    @apply block min-w-full font-mono;
  }

  .docs-article > pre {
    @apply my-6 overflow-x-auto rounded-lg border border-code-border bg-code-bg px-4 py-3 text-sm leading-relaxed;
  }

  .dark .docs-article > pre {
    @apply border-code-border-dark bg-code-bg-dark text-slate-200;
  }

  .docs-article > pre > code {
    @apply block min-w-full font-mono;
  }

  /* Inline code */
  :not(pre) > code {
    @apply bg-slate-100 text-slate-600 px-1.5 py-0.5 rounded text-[0.875em] border border-slate-200;
  }

  .dark :not(pre) > code {
    @apply bg-slate-800 text-slate-300 border-slate-600;
  }
}

/* ========== SCROLLBAR ========== */

pre::-webkit-scrollbar {
  height: 8px;
  width: 8px;
}

pre::-webkit-scrollbar-track {
  background: transparent;
}

pre::-webkit-scrollbar-thumb {
  background: #cbd5e1;
  border-radius: 4px;
}

pre::-webkit-scrollbar-thumb:hover {
  background: #94a3b8;
}

.dark pre::-webkit-scrollbar-thumb {
  background: #475569;
}

.dark pre::-webkit-scrollbar-thumb:hover {
  background: #64748b;
}

/* ========== DOCS LINK POLISH ========== */

:root {
  --docs-link-color: #0f4fd8;
  --docs-link-hover-color: #0b3ca8;
  --docs-link-visited-color: #1762f0;
  --docs-link-underline: rgba(15, 79, 216, 0.5);
  --docs-link-hover-underline: rgba(11, 60, 168, 0.9);
  --docs-link-hover-bg: rgba(15, 79, 216, 0.1);
  --docs-link-focus-ring: rgba(15, 79, 216, 0.45);
}

.dark {
  --docs-link-color: #7dd3fc;
  --docs-link-hover-color: #bae6fd;
  --docs-link-visited-color: #a5f3fc;
  --docs-link-underline: rgba(125, 211, 252, 0.55);
  --docs-link-hover-underline: rgba(186, 230, 253, 0.95);
  --docs-link-hover-bg: rgba(56, 189, 248, 0.2);
  --docs-link-focus-ring: rgba(125, 211, 252, 0.55);
}

.docs-article :where(p, li, td, blockquote, figcaption) a[href],
article :where(p, li, td, blockquote, figcaption) a[href] {
  color: var(--docs-link-color);
  border-radius: 0.3rem;
  text-decoration-line: underline;
  text-decoration-thickness: 0.1em;
  text-underline-offset: 0.18em;
  text-decoration-color: var(--docs-link-underline);
  text-decoration-skip-ink: auto;
  transition:
    color 0.16s ease,
    text-decoration-color 0.16s ease,
    text-underline-offset 0.16s ease,
    background-color 0.16s ease;
}

.docs-article :where(p, li, td, blockquote, figcaption) a[href]:visited,
article :where(p, li, td, blockquote, figcaption) a[href]:visited {
  color: var(--docs-link-visited-color);
}

.docs-article :where(p, li, td, blockquote, figcaption) a[href]:hover,
.docs-article :where(p, li, td, blockquote, figcaption) a[href]:focus-visible,
article :where(p, li, td, blockquote, figcaption) a[href]:hover,
article :where(p, li, td, blockquote, figcaption) a[href]:focus-visible {
  color: var(--docs-link-hover-color);
  text-decoration-color: var(--docs-link-hover-underline);
  text-underline-offset: 0.22em;
  background-color: var(--docs-link-hover-bg);
}

.docs-article :where(p, li, td, blockquote, figcaption) a[href]:focus-visible,
article :where(p, li, td, blockquote, figcaption) a[href]:focus-visible {
  outline: 2px solid var(--docs-link-focus-ring);
  outline-offset: 2px;
}

.docs-article :where(p, li, td, blockquote, figcaption) a[href] > code,
article :where(p, li, td, blockquote, figcaption) a[href] > code {
  color: inherit;
}

/* ========== DOCS ARTICLE TYPOGRAPHY ========== */

.docs-article {
  @apply text-[15px] leading-7 text-slate-700 dark:text-slate-200;
}

.docs-article h1,
.docs-article h2,
.docs-article h3,
.docs-article h4 {
  @apply font-semibold tracking-tight text-slate-900 dark:text-slate-100;
}

.docs-article h1 {
  @apply mb-4 mt-0 text-4xl;
}

.docs-article h2 {
  @apply mb-3 mt-10 border-b border-slate-200 pb-2 text-2xl dark:border-slate-800;
}

.docs-article h3 {
  @apply mb-2 mt-8 text-xl;
}

.docs-article h4 {
  @apply mb-2 mt-6 text-lg;
}

.docs-article p {
  @apply my-4;
}

.docs-article ul,
.docs-article ol {
  @apply my-4 pl-6;
}

.docs-article li {
  @apply my-1;
}

.docs-article blockquote {
  @apply my-4 border-l-4 border-slate-300 pl-4 text-slate-600 dark:border-slate-600 dark:text-slate-300;
}

.docs-article hr {
  @apply my-8 border-slate-200 dark:border-slate-800;
}
